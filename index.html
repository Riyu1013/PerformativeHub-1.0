<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <!-- Bootstrap JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="styles.css">
    
    <title>Performative Male</title>
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body" id="my-nav">
  <div class="container-fluid">
    <div class="brand-wrapper">
      <a class="navbar-brand" id="hero-text" href="#">Performative <br> Website</a>
    </div>
    <div class="nav-item">
      <a class="justify-content-end fs-5" href="">About</a>
    </div>
  </div>
</nav>

<div id="main-content">
  <div class="my-carousel">
    <div class="item"><img src="media/labubu-1.png" alt="" id="my-image"></div>
    <div class="item"><img src="media/matcha-1.png" alt="" id="my-image"></div>
    <div class="item"><img src="media/walkman-1.png" alt="" id="my-image"></div>
    <div class="item"><img src="media/poster-1.png" alt="" id="my-image"></div>
  </div>
</div>

<script>
// Scroll-drag infinite carousel ChatGPT
  const slider = document.querySelector('.my-carousel');
  let isDown = false;
  let startX;
  let scrollLeft;

  // Duplicate items once on load for infinite effect
  slider.innerHTML += slider.innerHTML;
  slider.addEventListener('dragstart', (e) => e.preventDefault());
  const startDragging = (e) => {
    isDown = true;
    slider.classList.add('active');
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
  }

  const stopDragging = () => {
    isDown = false;
  }

  // Drag to scroll
  const move = (e) => {
    if(!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX) * 1.2; 
    slider.scrollLeft = scrollLeft - walk;

    const width = slider.scrollWidth / 2;

    // If scrolling reaches the duplicated end â†’ jump to original
    if (slider.scrollLeft >= width) {
      slider.scrollLeft -= width;
    }
    if (slider.scrollLeft <= 0) {
      slider.scrollLeft += width;
    }
  }

  // Listeners
  slider.addEventListener('mousedown', startDragging);
  slider.addEventListener('mouseleave', stopDragging);
  slider.addEventListener('mouseup', stopDragging);
  slider.addEventListener('mousemove', move);
  // Add the event listeners
  slider.addEventListener('mousemove', move, false);
  slider.addEventListener('mousedown', startDragging, false);
  slider.addEventListener('mouseup', stopDragging, false);
  slider.addEventListener('mouseleave', stopDragging, false);


  const hero = document.getElementById("hero-text");
  const main = document.getElementById("main-content");

  // Initially blur everything except hero
  main.classList.add("blur");

  main.addEventListener("click", () => {
    hero.classList.add("shrink");
    main.classList.remove("blur");
  });
</script>
</body>
</html>